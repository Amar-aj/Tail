@page "/examples"
@page "/docs/examples"
@using Tail.Blazor.Buttons
@using Tail.Blazor.Layout
@using Tail.Blazor.Forms.Models
@using Tail.Blazor.Feedback
@using Tail.Blazor.Data
@using Microsoft.AspNetCore.Components.Forms

<PageTitle>Examples - Tail.Blazor</PageTitle>

<div class="container mx-auto px-4 py-8 max-w-6xl">
    <h1 class="text-4xl font-bold mb-8">Examples</h1>

    <div class="space-y-12">
        <!-- Form Example -->
        <section>
            <h2 class="text-2xl font-semibold mb-4">Form Example</h2>
            <TailCard>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">Email</label>
                        <TailInput InputType="InputType.Email" Placeholder="Enter your email" />
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">Password</label>
                        <TailInput InputType="InputType.Password" Placeholder="Enter password" />
                    </div>
                    <TailButton Variant="ButtonVariant.Primary" FullWidth="true">
                        Sign In
                    </TailButton>
                </div>
            </TailCard>
        </section>

        <!-- Card Grid Example -->
        <section>
            <h2 class="text-2xl font-semibold mb-4">Card Grid</h2>
            <TailGrid Columns="3" Gap="GridGap.Md">
                <TailCard>
                    <h3 class="font-semibold mb-2">Card 1</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Card content goes here</p>
                </TailCard>
                <TailCard>
                    <h3 class="font-semibold mb-2">Card 2</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Card content goes here</p>
                </TailCard>
                <TailCard>
                    <h3 class="font-semibold mb-2">Card 3</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Card content goes here</p>
                </TailCard>
            </TailGrid>
        </section>

        <!-- Alert Example -->
        <section>
            <h2 class="text-2xl font-semibold mb-4">Alerts</h2>
            <div class="space-y-2">
                <TailAlert Variant="AlertVariant.Success" Title="Success!" Dismissible="true">
                    Your changes have been saved successfully.
                </TailAlert>
                <TailAlert Variant="AlertVariant.Warning" Title="Warning">
                    Please review your information before submitting.
                </TailAlert>
                <TailAlert Variant="AlertVariant.Danger" Title="Error">
                    An error occurred while processing your request.
                </TailAlert>
            </div>
        </section>

        <!-- Advanced Form Example -->
        <section>
            <h2 class="text-2xl font-semibold mb-4">Advanced Form</h2>
            <TailCard>
                <div class="space-y-4">
                    <TailInput Label="Full Name" InputType="InputType.Text" Placeholder="Enter your name" />
                    <TailDatePicker Label="Date of Birth" Value="@DateTime.Today.AddYears(-25)" />
                    <TailAutoComplete 
                        Label="City" 
                        Suggestions="@ExampleCities"
                        TextSelector="c => (string)c" />
                    <TailMultiSelect 
                        Label="Interests" 
                        Items="@InterestOptions"
                        SelectedItems="@SelectedInterests"
                        ShowSearch="true" />
                    <TailFileUpload 
                        Label="Upload Resume" 
                        UploadedFiles="@ResumeFiles"
                        UploadedFilesChanged="OnResumeFilesChanged"
                        Accept=".pdf,.doc,.docx"
                        Multiple="false" />
                    <TailButton Variant="ButtonVariant.Primary" FullWidth="true">
                        Submit Application
                    </TailButton>
                </div>
            </TailCard>
        </section>

        <!-- Data Grid Example -->
        <section>
            <h2 class="text-2xl font-semibold mb-4">Data Grid</h2>
            <TailCard>
                <TailDataGrid TItem="Product" Items="@Products" Columns="@ProductColumns" 
                    ShowSearch="true" 
                    SelectionMode="Tail.Blazor.Data.Models.SelectionMode.Multiple"
                    ShowPager="true" />
            </TailCard>
        </section>
    </div>
</div>

@code {
    private List<object> ExampleCities => new List<string> { "New York", "London", "Paris", "Tokyo" }.Cast<object>().ToList();

    public class Product
    {
        public string Name { get; set; } = "";
        public string Category { get; set; } = "";
        public decimal Price { get; set; }
        public int Stock { get; set; }
    }

    private List<Tail.Blazor.Forms.SelectItem> InterestOptions { get; set; } = new()
    {
        new Tail.Blazor.Forms.SelectItem { Value = "tech", Text = "Technology" },
        new Tail.Blazor.Forms.SelectItem { Value = "sports", Text = "Sports" },
        new Tail.Blazor.Forms.SelectItem { Value = "music", Text = "Music" },
        new Tail.Blazor.Forms.SelectItem { Value = "travel", Text = "Travel" }
    };

    private List<Tail.Blazor.Forms.SelectItem> SelectedInterests { get; set; } = new();

    private List<Product> Products { get; set; } = new()
    {
        new Product { Name = "Laptop", Category = "Electronics", Price = 999.99m, Stock = 15 },
        new Product { Name = "Phone", Category = "Electronics", Price = 699.99m, Stock = 30 },
        new Product { Name = "Headphones", Category = "Audio", Price = 199.99m, Stock = 50 },
        new Product { Name = "Keyboard", Category = "Accessories", Price = 79.99m, Stock = 25 }
    };

    private List<Tail.Blazor.Data.Models.DataGridColumn> ProductColumns { get; set; } = new()
    {
        new Tail.Blazor.Data.Models.DataGridColumn { Property = "Name", Title = "Product Name", Sortable = true },
        new Tail.Blazor.Data.Models.DataGridColumn { Property = "Category", Title = "Category", Sortable = true },
        new Tail.Blazor.Data.Models.DataGridColumn { Property = "Price", Title = "Price", Sortable = true },
        new Tail.Blazor.Data.Models.DataGridColumn { Property = "Stock", Title = "Stock", Sortable = true }
    };

    private List<IBrowserFile> ResumeFiles { get; set; } = new();

    private async Task OnResumeFilesChanged(List<IBrowserFile> files)
    {
        ResumeFiles = files;
        await Task.CompletedTask;
    }
}

