@page "/docs/theme-integration"
@using Tail.Blazor.Core.Theme
@inject ThemeService ThemeService

<PageTitle>Theme Integration Status - Tail.Blazor</PageTitle>

<div class="container mx-auto px-4 py-8 max-w-6xl">
    <h1 class="text-4xl font-bold mb-2 text-gray-900 dark:text-white">Theme Integration Status</h1>
    <p class="text-lg text-gray-600 dark:text-gray-400 mb-8">
        All core packages now support dynamic theming with CSS variables
    </p>

    <!-- Integration Status -->
    <section class="mb-12 theme-card border rounded-lg p-6">
        <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Package Integration Status</h2>
        
        <div class="space-y-3">
            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Core</div>
                        <div class="text-sm text-green-700 dark:text-green-300">Theme system, toggle, selector</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Buttons</div>
                        <div class="text-sm text-green-700 dark:text-green-300">All button variants use CSS variables</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Forms</div>
                        <div class="text-sm text-green-700 dark:text-green-300">Input, Textarea with theme support</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Layout</div>
                        <div class="text-sm text-green-700 dark:text-green-300">Card component uses theme variables</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Feedback</div>
                        <div class="text-sm text-green-700 dark:text-green-300">Alert component uses theme variables</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Navigation</div>
                        <div class="text-sm text-green-700 dark:text-green-300">Tabs component uses theme variables</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">?</span>
                    <div>
                        <div class="font-semibold text-green-900 dark:text-green-200">Tail.Blazor.Data</div>
                        <div class="text-sm text-green-700 dark:text-green-300">DataGrid component uses theme variables</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-green-600 text-white text-sm font-medium rounded-full">Complete</span>
            </div>

            <div class="flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
                <div class="flex items-center">
                    <span class="text-2xl mr-3">??</span>
                    <div>
                        <div class="font-semibold text-blue-900 dark:text-blue-200">Additional Packages</div>
                        <div class="text-sm text-blue-700 dark:text-blue-300">Charts, Icons, Utils, Validators, Visualization</div>
                    </div>
                </div>
                <span class="px-3 py-1 bg-blue-600 text-white text-sm font-medium rounded-full">Optional</span>
            </div>
        </div>

        <div class="mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg">
            <h4 class="font-semibold text-green-900 dark:text-green-200 mb-2 flex items-center">
                <span class="text-2xl mr-2">??</span>
                Core Integration Complete!
            </h4>
            <p class="text-sm text-green-800 dark:text-green-300">
                All 7 core packages now support dynamic theming. All components automatically adapt to theme changes in real-time!
            </p>
        </div>
    </section>

    <!-- Live Demo -->
    <section class="mb-12">
        <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Live Theme Demo</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            Test theme changes across all integrated components. Switch themes using the theme toggle or visit the theme selector to see instant updates.
        </p>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Buttons -->
            <div class="theme-card border rounded-lg p-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">Buttons</h3>
                <div class="space-y-3">
                    <TailButton Variant="ButtonVariant.Primary" FullWidth="true">Primary Button</TailButton>
                    <TailButton Variant="ButtonVariant.Success" FullWidth="true">Success Button</TailButton>
                    <TailButton Variant="ButtonVariant.Warning" FullWidth="true">Warning Button</TailButton>
                    <TailButton Variant="ButtonVariant.Danger" FullWidth="true">Danger Button</TailButton>
                </div>
            </div>

            <!-- Forms -->
            <div class="theme-card border rounded-lg p-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">Forms</h3>
                <div class="space-y-3">
                    <TailInput Value="@demoInput" ValueChanged="@((string? val) => demoInput = val)" Label="Input Field" Placeholder="Type something..." />
                    <TailTextarea Value="@demoTextarea" ValueChanged="@((string? val) => demoTextarea = val)" Label="Textarea" Rows="3" Placeholder="Enter text..." />
                </div>
            </div>

            <!-- Card -->
            <TailCard Hoverable="true">
                <Header>
                    <h3 class="font-semibold text-gray-900 dark:text-white">Card Component</h3>
                </Header>
                <ChildContent>
                    <p class="text-gray-700 dark:text-gray-300">
                        This card automatically adapts to your selected theme. Try switching themes to see it change!
                    </p>
                </ChildContent>
            </TailCard>

            <!-- Alerts -->
            <div class="theme-card border rounded-lg p-6">
                <h3 class="text-xl font-semibold mb-4 text-gray-900 dark:text-white">Alerts</h3>
                <div class="space-y-3">
                    <TailAlert Variant="AlertVariant.Success" Title="Success" Dismissible="false">
                        Operation completed successfully
                    </TailAlert>
                    <TailAlert Variant="AlertVariant.Warning" Title="Warning" Dismissible="false">
                        Please review your input
                    </TailAlert>
                    <TailAlert Variant="AlertVariant.Danger" Title="Error" Dismissible="false">
                        An error occurred
                    </TailAlert>
                </div>
            </div>
        </div>
    </section>

    <!-- CSS Variables Used -->
    <section class="mb-12 theme-card border rounded-lg p-6">
        <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">CSS Variables</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            All components now use these CSS variables for theming:
        </p>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-primary</code>
                <div class="mt-2 h-8 rounded" style="background-color: var(--color-primary)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-secondary</code>
                <div class="mt-2 h-8 rounded" style="background-color: var(--color-secondary)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-accent</code>
                <div class="mt-2 h-8 rounded" style="background-color: var(--color-accent)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-success</code>
                <div class="mt-2 h-8 rounded" style="background-color: var(--color-success)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-warning</code>
                <div class="mt-2 h-8 rounded" style="background-color: var(--color-warning)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-danger</code>
                <div class="mt-2 h-8 rounded" style="background-color: var(--color-danger)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-surface</code>
                <div class="mt-2 h-8 rounded border border-gray-300 dark:border-gray-600" style="background-color: var(--color-surface)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-background</code>
                <div class="mt-2 h-8 rounded border border-gray-300 dark:border-gray-600" style="background-color: var(--color-background)"></div>
            </div>
            <div class="p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700">
                <code class="text-sm font-mono text-gray-900 dark:text-gray-100">--color-border</code>
                <div class="mt-2 h-8 rounded border-4" style="border-color: var(--color-border)"></div>
            </div>
        </div>
    </section>

    <!-- Implementation Guide -->
    <section class="theme-card border rounded-lg p-6">
        <h2 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Implementation Pattern</h2>
        <p class="text-gray-600 dark:text-gray-400 mb-6">
            This is how components are updated to support dynamic theming:
        </p>

        <div class="bg-gray-50 dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700">
            <pre class="text-sm overflow-x-auto"><code class="language-csharp">// Before: Hard-coded colors
class="bg-blue-600 text-white border-blue-500"

// After: Theme CSS variables
style="background-color: var(--color-primary); 
       color: white; 
       border-color: var(--color-primary)"

// Or for transparency:
style="background-color: color-mix(in srgb, var(--color-primary) 10%, transparent)"</code></pre>
        </div>

        <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg">
            <h4 class="font-semibold text-blue-900 dark:text-blue-200 mb-2">Benefits:</h4>
            <ul class="list-disc list-inside space-y-1 text-sm text-blue-800 dark:text-blue-300">
                <li>Instant theme switching without page reload</li>
                <li>Support for 5 preset themes + unlimited custom themes</li>
                <li>Automatic light/dark mode support</li>
                <li>localStorage persistence - themes survive page reloads</li>
                <li>All components stay consistent across your app</li>
                <li>Easy to create your own color schemes</li>
            </ul>
        </div>
    </section>
</div>

@code {
    private string demoInput = "";
    private string demoTextarea = "";

    protected override async Task OnInitializedAsync()
    {
        await ThemeService.InitializeAsync();
    }
}
