@page "/components/input"
@using Tail.Blazor.Input
@using Tail.Blazor.Docs.Shared
@using Microsoft.AspNetCore.Components

<PageTitle>Input - Tail.Blazor</PageTitle>

<DocPageTemplate Title="TailInput" 
                 Description="Text input component with validation support. Ultra-lightweight (~4 KB)."
                 PackageName="Tail.Blazor.Forms"
                 ApiParameters="@apiParameters">
    
    <DocSection Title="Installation">
        <CodePreview Title="Install Package" Code="@installCode" />
    </DocSection>

    <DocSection Title="Basic Usage">
        <CodePreview Title="Text Input" Code="@basicCode">
            <PreviewContent>
                <TailInput @bind-Value="textValue" Placeholder="Enter text..." />
                <p class="mt-2 text-sm" style="color: var(--color-text-secondary)">Value: @textValue</p>
            </PreviewContent>
        </CodePreview>
    </DocSection>

    <DocSection Title="Input Types">
        <CodePreview Title="Different Input Types" Code="@typesCode">
            <PreviewContent>
                <div class="space-y-4">
                    <TailInput @bind-Value="emailValue" Type="InputType.Email" Placeholder="Email address" />
                    <TailInput @bind-Value="passwordValue" Type="InputType.Password" Placeholder="Password" />
                    <TailInput @bind-Value="numberValue" Type="InputType.Number" Placeholder="Number" />
                    <TailInput @bind-Value="urlValue" Type="InputType.Url" Placeholder="URL" />
                </div>
            </PreviewContent>
        </CodePreview>
    </DocSection>

    <DocSection Title="States">
        <CodePreview Title="Disabled and Readonly" Code="@statesCode">
            <PreviewContent>
                <div class="space-y-4">
                    <TailInput Value="Disabled input" Disabled="true" />
                    <TailInput Value="Readonly input" ReadOnly="true" />
                </div>
            </PreviewContent>
        </CodePreview>
    </DocSection>
</DocPageTemplate>

@code {
    private string textValue = string.Empty;
    private string emailValue = string.Empty;
    private string passwordValue = string.Empty;
    private string numberValue = string.Empty;
    private string urlValue = string.Empty;

    private string installCode = @"dotnet add package Tail.Blazor.Forms";

    private string basicCode = @"<TailInput @bind-Value=""textValue"" Placeholder=""Enter text..."" />";

    private string typesCode = @"<TailInput @bind-Value=""emailValue"" Type=""InputType.Email"" Placeholder=""Email"" />
<TailInput @bind-Value=""passwordValue"" Type=""InputType.Password"" Placeholder=""Password"" />
<TailInput @bind-Value=""numberValue"" Type=""InputType.Number"" Placeholder=""Number"" />
<TailInput @bind-Value=""urlValue"" Type=""InputType.Url"" Placeholder=""URL"" />";

    private string statesCode = @"<TailInput Value=""Disabled input"" Disabled=""true"" />
<TailInput Value=""Readonly input"" ReadOnly=""true"" />";

    private List<DocPageTemplate.ApiParameter> apiParameters = new()
    {
        new DocPageTemplate.ApiParameter { Name = "Value", Type = "string", Default = "string.Empty", Description = "Input value (two-way binding)" },
        new DocPageTemplate.ApiParameter { Name = "Placeholder", Type = "string", Default = "-", Description = "Placeholder text" },
        new DocPageTemplate.ApiParameter { Name = "Type", Type = "InputType", Default = "Text", Description = "Input type (Text, Email, Password, etc.)" },
        new DocPageTemplate.ApiParameter { Name = "Disabled", Type = "bool", Default = "false", Description = "Disable the input" },
        new DocPageTemplate.ApiParameter { Name = "ReadOnly", Type = "bool", Default = "false", Description = "Make input read-only" }
    };
}
