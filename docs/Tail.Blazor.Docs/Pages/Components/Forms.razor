@page "/components/forms"
@using Tail.Blazor.Forms
@using Microsoft.AspNetCore.Components.Forms

<PageTitle>Forms - Tail.Blazor</PageTitle>

<div class="container mx-auto px-4 py-8 max-w-6xl">
    <h1 class="text-4xl font-bold mb-6">Form Components</h1>

    <div class="prose dark:prose-invert max-w-none">
        <h2>Input</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailInput Label="Email" InputType="InputType.Email" Placeholder="Enter your email" />
        </div>
        <pre><code>&lt;TailInput 
    Label="Email" 
    InputType="InputType.Email" 
    Placeholder="Enter your email" /&gt;</code></pre>

        <h2>Textarea</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailTextarea Label="Message" Rows="4" Placeholder="Enter your message" />
        </div>

        <h2>Select</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailSelect Label="Country" Placeholder="Select a country" Items="@Countries" />
        </div>

        <h2>Checkbox</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailCheckbox Label="I agree to the terms and conditions" />
        </div>

        <h2>Switch</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailSwitch Label="Enable notifications" />
        </div>

        <h2>Slider</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailSlider Label="Volume" Min="0" Max="100" Value="50" ShowValue="true" />
        </div>

        <h2>Rating</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailRating Label="Rate this product" MaxRating="5" Value="4" ShowValue="true" />
        </div>

        <h2>MultiSelect</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailMultiSelect 
                Label="Select Countries" 
                Placeholder="Choose countries..."
                Items="@Countries" 
                SelectedItems="@SelectedCountries"
                SelectedItemsChanged="OnCountriesChanged"
                ShowSearch="true" />
        </div>

        <h2>DatePicker</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailDatePicker 
                Label="Select Date" 
                Value="@SelectedDate"
                ValueChanged="OnDateChanged"
                Placeholder="Choose a date..." />
        </div>

        <h2>FileUpload</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailFileUpload 
                Label="Upload Files" 
                UploadedFiles="@UploadedFiles"
                UploadedFilesChanged="OnFilesChanged"
                Multiple="true"
                Accept="image/*,.pdf"
                HelperText="PNG, JPG, PDF up to 10MB" />
        </div>

        <h2>AutoComplete</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailAutoComplete 
                Label="Search City" 
                Value="@SelectedCity"
                ValueChanged="OnCityChanged"
                Suggestions="@CitySuggestions"
                TextSelector="c => (string)c"
                Placeholder="Type to search..." />
        </div>

        <h2>ColorPicker</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailColorPicker 
                Label="Choose Color" 
                Value="@SelectedColor"
                ValueChanged="OnColorChanged" />
        </div>

        <h2>Mask</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailMask 
                Label="Phone Number" 
                Value="@PhoneNumber"
                ValueChanged="OnPhoneChanged"
                Mask="***-***-****"
                Placeholder="___-___-____"
                HelperText="Format: 123-456-7890" />
        </div>

        <h2>Numeric</h2>
        <div class="bg-gray-50 dark:bg-gray-900 p-6 rounded-lg mb-6">
            <TailNumeric 
                Label="Quantity" 
                Value="@Quantity"
                ValueChanged="OnQuantityChanged"
                Min="0"
                Max="100"
                Step="1"
                HelperText="Enter quantity between 0 and 100" />
        </div>
    </div>
</div>

@code {
    private List<SelectItem> Countries { get; set; } = new()
    {
        new SelectItem { Value = "us", Text = "United States" },
        new SelectItem { Value = "uk", Text = "United Kingdom" },
        new SelectItem { Value = "ca", Text = "Canada" },
        new SelectItem { Value = "au", Text = "Australia" },
        new SelectItem { Value = "de", Text = "Germany" },
        new SelectItem { Value = "fr", Text = "France" }
    };

    private List<SelectItem> SelectedCountries { get; set; } = new();
    private DateTime? SelectedDate { get; set; } = DateTime.Today;
    private List<IBrowserFile> UploadedFiles { get; set; } = new();
    private string? SelectedCity { get; set; }
    private List<string> Cities { get; set; } = new()
    {
        "New York", "Los Angeles", "Chicago", "Houston", "Phoenix", "Philadelphia", "San Antonio", "San Diego", "Dallas", "San Jose"
    };
    private List<object> CitySuggestions => Cities.Cast<object>().ToList();
    private string SelectedColor { get; set; } = "#3b82f6";
    private string? PhoneNumber { get; set; }
    private decimal Quantity { get; set; } = 10;

    private async Task OnCountriesChanged(List<SelectItem> countries)
    {
        SelectedCountries = countries;
        await Task.CompletedTask;
    }

    private async Task OnDateChanged(DateTime? date)
    {
        SelectedDate = date;
        await Task.CompletedTask;
    }

    private async Task OnFilesChanged(List<IBrowserFile> files)
    {
        UploadedFiles = files;
        await Task.CompletedTask;
    }

    private async Task OnCityChanged(string? city)
    {
        SelectedCity = city;
        await Task.CompletedTask;
    }

    private async Task OnColorChanged(string color)
    {
        SelectedColor = color;
        await Task.CompletedTask;
    }

    private async Task OnPhoneChanged(string? phone)
    {
        PhoneNumber = phone;
        await Task.CompletedTask;
    }

    private async Task OnQuantityChanged(decimal quantity)
    {
        Quantity = quantity;
        await Task.CompletedTask;
    }
}

