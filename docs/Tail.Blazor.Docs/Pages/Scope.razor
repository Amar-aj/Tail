@page "/scope"
@using Tail.Blazor.Feedback
@using Tail.Blazor.Layout
@using Tail.Blazor.Buttons

<PageTitle>Project Scope & Status - Tail.Blazor</PageTitle>

<div class="max-w-7xl mx-auto px-4 py-8">
    <div class="mb-8">
        <h1 class="text-4xl font-bold mb-4" style="color: var(--color-text-primary);">Project Scope & Status</h1>
        <p class="text-lg" style="color: var(--color-text-secondary);">
            Track the implementation progress and scope of the Tail.Blazor component library.
        </p>
    </div>

    <!-- Overview Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <TailPanel Variant="PanelVariant.Default" class="p-6">
            <div class="text-center">
                <div class="text-3xl font-bold mb-2" style="color: var(--color-primary);">12</div>
                <div class="text-sm" style="color: var(--color-text-secondary);">NuGet Packages</div>
            </div>
        </TailPanel>
        <TailPanel Variant="PanelVariant.Default" class="p-6">
            <div class="text-center">
                <div class="text-3xl font-bold mb-2" style="color: var(--color-success);">100+</div>
                <div class="text-sm" style="color: var(--color-text-secondary);">Components</div>
            </div>
        </TailPanel>
        <TailPanel Variant="PanelVariant.Default" class="p-6">
            <div class="text-center">
                <div class="text-3xl font-bold mb-2" style="color: var(--color-info);">95%</div>
                <div class="text-sm" style="color: var(--color-text-secondary);">Complete</div>
            </div>
        </TailPanel>
    </div>

    <!-- Package Status -->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold mb-4" style="color: var(--color-text-primary);">Package Status</h2>
        <div class="space-y-4">
            @foreach (var package in Packages)
            {
                <TailPanel Variant="PanelVariant.Default" class="p-6">
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold mb-2" style="color: var(--color-text-primary);">
                                @package.Name
                            </h3>
                            <p class="text-sm mb-3" style="color: var(--color-text-secondary);">
                                @package.Description
                            </p>
                            <div class="flex items-center gap-4 text-sm">
                                <span style="color: var(--color-text-secondary);">
                                    Components: <strong>@package.ComponentCount</strong>
                                </span>
                                <span style="color: var(--color-text-secondary);">
                                    Status: 
                                    <span class="font-semibold" style="color: @GetStatusColor(package.Status);">
                                        @package.Status
                                    </span>
                                </span>
                            </div>
                        </div>
                        <div class="ml-4">
                            @if (package.Status == "Complete")
                            {
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium" 
                                      style="background-color: color-mix(in srgb, var(--color-success) 20%, transparent); 
                                             color: var(--color-success);">
                                    ✓ Complete
                                </span>
                            }
                            else if (package.Status == "In Progress")
                            {
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium" 
                                      style="background-color: color-mix(in srgb, var(--color-warning) 20%, transparent); 
                                             color: var(--color-warning);">
                                    ⚡ In Progress
                                </span>
                            }
                            else
                            {
                                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium" 
                                      style="background-color: color-mix(in srgb, var(--color-text-muted) 20%, transparent); 
                                             color: var(--color-text-muted);">
                                    ○ Planned
                                </span>
                            }
                        </div>
                    </div>
                </TailPanel>
            }
        </div>
    </div>

    <!-- Feature Status -->
    <div class="mb-8">
        <h2 class="text-2xl font-semibold mb-4" style="color: var(--color-text-primary);">Feature Status</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            @foreach (var feature in Features)
            {
                <TailPanel Variant="PanelVariant.Default" class="p-4">
                    <div class="flex items-start justify-between">
                        <div class="flex-1">
                            <h3 class="font-semibold mb-1" style="color: var(--color-text-primary);">
                                @feature.Name
                            </h3>
                            <p class="text-sm" style="color: var(--color-text-secondary);">
                                @feature.Description
                            </p>
                        </div>
                        <div class="ml-4">
                            @if (feature.IsComplete)
                            {
                                <span class="text-green-500">✓</span>
                            }
                            else
                            {
                                <span class="text-yellow-500">⚡</span>
                            }
                        </div>
                    </div>
                </TailPanel>
            }
        </div>
    </div>

    <!-- Recent Updates -->
    <div>
        <h2 class="text-2xl font-semibold mb-4" style="color: var(--color-text-primary);">Recent Updates</h2>
        <div class="space-y-3">
            @foreach (var update in RecentUpdates)
            {
                <TailPanel Variant="PanelVariant.Default" class="p-4">
                    <div class="flex items-start gap-3">
                        <div class="flex-shrink-0 w-2 h-2 rounded-full mt-2" 
                             style="background-color: var(--color-primary);"></div>
                        <div class="flex-1">
                            <div class="flex items-center gap-2 mb-1">
                                <span class="font-semibold" style="color: var(--color-text-primary);">
                                    @update.Title
                                </span>
                                <span class="text-xs" style="color: var(--color-text-muted);">
                                    @update.Date.ToString("MMM dd, yyyy")
                                </span>
                            </div>
                            <p class="text-sm" style="color: var(--color-text-secondary);">
                                @update.Description
                            </p>
                        </div>
                    </div>
                </TailPanel>
            }
        </div>
    </div>
</div>

@code {
    private List<PackageStatus> Packages = new()
    {
        new PackageStatus { Name = "Tail.Blazor.Core", Description = "Core utilities and base components", ComponentCount = 5, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Buttons", Description = "Button components and variants", ComponentCount = 5, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Layout", Description = "Layout and container components", ComponentCount = 6, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Forms", Description = "Form input components", ComponentCount = 15, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Feedback", Description = "Alert, toast, and feedback components", ComponentCount = 10, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Navigation", Description = "Navigation and menu components", ComponentCount = 8, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Data", Description = "Data display and grid components", ComponentCount = 6, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Icons", Description = "Icon components and registry", ComponentCount = 1, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Utils", Description = "Utility helpers and JavaScript interop", ComponentCount = 1, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Validators", Description = "Form validation components", ComponentCount = 7, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Charts", Description = "Chart and visualization components", ComponentCount = 2, Status = "Complete" },
        new PackageStatus { Name = "Tail.Blazor.Visualization", Description = "Advanced visualization components", ComponentCount = 3, Status = "Complete" }
    };

    private List<FeatureStatus> Features = new()
    {
        new FeatureStatus { Name = "Theme System", Description = "Dynamic theming with CSS variables and presets", IsComplete = true },
        new FeatureStatus { Name = "Dark Mode", Description = "Full dark mode support across all components", IsComplete = true },
        new FeatureStatus { Name = "Responsive Design", Description = "Mobile-first responsive components", IsComplete = true },
        new FeatureStatus { Name = "Accessibility", Description = "WCAG 2.2 AA compliance", IsComplete = true },
        new FeatureStatus { Name = "Documentation Site", Description = "Comprehensive documentation with examples", IsComplete = true },
        new FeatureStatus { Name = "Fixed Navigation", Description = "Fixed and scrollable navigation with active path", IsComplete = true },
        new FeatureStatus { Name = "Design Tokens", Description = "Extended design tokens (surfaces, shadows, radii, transitions)", IsComplete = true },
        new FeatureStatus { Name = "Theme Persistence", Description = "Theme settings saved to localStorage", IsComplete = true }
    };

    private List<UpdateInfo> RecentUpdates = new()
    {
        new UpdateInfo { Title = "Fixed Navigation Menu", Description = "Implemented fixed, scrollable navigation with active path highlighting", Date = DateTime.Now.AddDays(-1) },
        new UpdateInfo { Title = "Extended Design Tokens", Description = "Added surface-2, surface-3, text-muted, divider, shadows, radii, and transitions", Date = DateTime.Now.AddDays(-1) },
        new UpdateInfo { Title = "Theme Persistence", Description = "Theme now loads from localStorage on page load/reload", Date = DateTime.Now.AddDays(-2) },
        new UpdateInfo { Title = "Component Library Complete", Description = "All 100+ components implemented across 12 packages", Date = DateTime.Now.AddDays(-5) },
        new UpdateInfo { Title = "Documentation Site", Description = "Comprehensive documentation site with examples and API reference", Date = DateTime.Now.AddDays(-7) }
    };

    private string GetStatusColor(string status)
    {
        return status switch
        {
            "Complete" => "var(--color-success)",
            "In Progress" => "var(--color-warning)",
            _ => "var(--color-text-muted)"
        };
    }

    private class PackageStatus
    {
        public string Name { get; set; } = string.Empty;
        public string Description { get; set; } = string.Empty;
        public int ComponentCount { get; set; }
        public string Status { get; set; } = "Planned";
    }

    private class FeatureStatus
    {
        public string Name { get; set; } = string.Empty;
        public string Description { get; set; } = string.Empty;
        public bool IsComplete { get; set; }
    }

    private class UpdateInfo
    {
        public string Title { get; set; } = string.Empty;
        public string Description { get; set; } = string.Empty;
        public DateTime Date { get; set; }
    }
}

