@inherits TailComponentBase
@using Microsoft.AspNetCore.Components.Web
@using Tail.Blazor.Breadcrumb

<nav aria-label="Breadcrumb">
    <ol class="flex items-center space-x-2">
        @for (int i = 0; i < Items.Count; i++)
        {
            var item = Items[i];
            var isLast = i == Items.Count - 1;

            <li class="flex items-center">
                @if (isLast)
                {
                    <span class="text-gray-500" style="color: var(--color-text-secondary, #6b7280);">@item.Text</span>
                }
                else
                {
                    <a 
                        href="@item.Href"
                        class="text-primary hover:underline"
                        style="color: var(--color-primary);">
                        @item.Text
                    </a>
                }
                @if (!isLast)
                {
                    <svg class="w-5 h-5 mx-2 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                }
            </li>
        }
    </ol>
</nav>

@code {
    [Parameter] public List<BreadcrumbItem> Items { get; set; } = new();
    [Parameter] public string? Style { get; set; }

    private string GetBreadcrumbClasses()
    {
        var classes = new List<string> { "flex", "items-center", "space-x-2" };
        if (!string.IsNullOrEmpty(Class))
        {
            classes.Add(Class);
        }
        return string.Join(" ", classes);
    }
}

@code {
    public class BreadcrumbItem
    {
        public string Text { get; set; } = string.Empty;
        public string? Href { get; set; }
    }
}

