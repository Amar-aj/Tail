@inherits TailComponentBase
@using Microsoft.AspNetCore.Components.Web
@using Tail.Blazor.RegexValidator

@if (!IsValid)
{
    <div class="text-sm text-red-600 mt-1" style="color: var(--color-danger);">
        @(ErrorMessage ?? "Value does not match the required pattern")
    </div>
}

@code {
    [Parameter] public string? Value { get; set; }
    [Parameter] public string Pattern { get; set; } = string.Empty;
    [Parameter] public string? ErrorMessage { get; set; }
    [Parameter] public string? Style { get; set; }

    private bool IsValid
    {
        get
        {
            if (string.IsNullOrWhiteSpace(Value)) return true;
            if (string.IsNullOrEmpty(Pattern)) return true;
            return System.Text.RegularExpressions.Regex.IsMatch(Value, Pattern);
        }
    }
}

