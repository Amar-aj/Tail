@inherits TailComponentBase
@using Microsoft.AspNetCore.Components.Web
@using Tail.Blazor.ListView

<div class="@GetListViewClasses()" style="@GetListViewStyles()">
    @foreach (var item in Items)
    {
        <div class="@GetItemClasses()" style="@GetItemStyles()">
            @ItemTemplate(item)
        </div>
    }
</div>

@code {
    [Parameter] public List<T> Items { get; set; } = new();
    [Parameter] public RenderFragment<T> ItemTemplate { get; set; } = default!;
    [Parameter] public string? Style { get; set; }

    private string GetListViewClasses()
    {
        var classes = new List<string> { "space-y-2" };
        if (!string.IsNullOrEmpty(Class))
        {
            classes.Add(Class);
        }
        return string.Join(" ", classes);
    }

    private string GetListViewStyles()
    {
        var styles = new List<string>();
        if (!string.IsNullOrEmpty(Style))
        {
            styles.Add(Style);
        }
        return string.Join("; ", styles);
    }

    private string GetItemClasses()
    {
        return "p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors";
    }

    private string GetItemStyles()
    {
        var styles = new List<string>();
        styles.Add($"background-color: var(--color-surface, white)");
        styles.Add($"border-color: var(--color-border, #e5e7eb)");
        return string.Join("; ", styles);
    }
}

