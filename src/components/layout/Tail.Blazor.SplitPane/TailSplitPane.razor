@inherits TailComponentBase
@using Microsoft.AspNetCore.Components.Web
@using Tail.Blazor.SplitPane

<div class="@GetSplitPaneClasses()" style="@GetSplitPaneStyles()">
    <div class="@GetPaneClasses()" style="width: @(SplitPercentage)%;">
        @Pane1
    </div>
    <div class="w-1 bg-gray-200 cursor-col-resize" style="background-color: var(--color-border, #e5e7eb);"></div>
    <div class="@GetPaneClasses()" style="width: @(100 - SplitPercentage)%;">
        @Pane2
    </div>
</div>

@code {
    [Parameter] public RenderFragment? Pane1 { get; set; }
    [Parameter] public RenderFragment? Pane2 { get; set; }
    [Parameter] public int SplitPercentage { get; set; } = 50;
    [Parameter] public bool Resizable { get; set; } = true;
    [Parameter] public string? Style { get; set; }

    private string GetSplitPaneClasses()
    {
        var classes = new List<string> { "flex", "w-full", "h-full" };
        if (!string.IsNullOrEmpty(Class))
        {
            classes.Add(Class);
        }
        return string.Join(" ", classes);
    }

    private string GetSplitPaneStyles()
    {
        var styles = new List<string>();
        if (!string.IsNullOrEmpty(Style))
        {
            styles.Add(Style);
        }
        return string.Join("; ", styles);
    }

    private string GetPaneClasses()
    {
        return "overflow-auto";
    }
}

