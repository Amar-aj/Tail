@inherits TailComponentBase
@using Microsoft.AspNetCore.Components.Web
@using Tail.Blazor.Header

<header class="@GetHeaderClasses()" style="@GetHeaderStyles()">
    @ChildContent
</header>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool Sticky { get; set; }
    [Parameter] public string? Style { get; set; }

    private string GetHeaderClasses()
    {
        var classes = new List<string> { "w-full", "bg-white", "border-b", "shadow-sm" };

        if (Sticky)
        {
            classes.Add("sticky top-0 z-50");
        }

        if (!string.IsNullOrEmpty(Class))
        {
            classes.Add(Class);
        }

        return string.Join(" ", classes);
    }

    private string GetHeaderStyles()
    {
        var styles = new List<string>();
        styles.Add($"background-color: var(--color-surface, white)");
        styles.Add($"border-color: var(--color-border, #e5e7eb)");
        if (!string.IsNullOrEmpty(Style))
        {
            styles.Add(Style);
        }
        return string.Join("; ", styles);
    }
}

