@inherits TailComponentBase
@using Microsoft.AspNetCore.Components.Web
@using Tail.Blazor.Divider

<div class="@GetDividerClasses()" style="@GetDividerStyles()">
    @if (!string.IsNullOrEmpty(Text))
    {
        <span class="px-4 bg-white" style="background-color: var(--color-surface, white); color: var(--color-text-secondary, #6b7280);">@Text</span>
    }
</div>

@code {
    [Parameter] public string? Text { get; set; }
    [Parameter] public DividerOrientation Orientation { get; set; } = DividerOrientation.Horizontal;
    [Parameter] public string? Style { get; set; }

    private string GetDividerClasses()
    {
        var classes = new List<string> { "flex", "items-center" };

        if (Orientation == DividerOrientation.Horizontal)
        {
            classes.Add("w-full");
        }
        else
        {
            classes.Add("h-full flex-col");
        }

        if (!string.IsNullOrEmpty(Class))
        {
            classes.Add(Class);
        }

        return string.Join(" ", classes);
    }

    private string GetDividerStyles()
    {
        var styles = new List<string>();

        if (Orientation == DividerOrientation.Horizontal)
        {
            styles.Add($"border-top: 1px solid var(--color-border, #e5e7eb)");
        }
        else
        {
            styles.Add($"border-left: 1px solid var(--color-border, #e5e7eb)");
        }

        if (!string.IsNullOrEmpty(Style))
        {
            styles.Add(Style);
        }

        return string.Join("; ", styles);
    }
}

