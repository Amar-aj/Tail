/* TailSwitch Component Styles with CSS Variables */

/* Switch Container */
.tail-switch-label {
    position: relative;
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    user-select: none;
}

.tail-switch-label.disabled {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
}

/* Hidden Input */
.tail-switch-input {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Switch Slider Track */
.tail-switch-slider {
    position: relative;
    display: inline-block;
    border-radius: 9999px;
    transition: all 200ms ease-in-out;
    background-color: var(--color-surface-3, #e5e7eb);
    border: 2px solid var(--color-border, #e5e7eb);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* Switch Slider Thumb (Circle) */
.tail-switch-slider::before {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: calc(50% - 4px);
    height: calc(100% - 4px);
    border-radius: 50%;
    background-color: var(--color-background, #ffffff);
    transition: all 200ms ease-in-out;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Checked State */
.tail-switch-input:checked + .tail-switch-slider {
    background-color: var(--color-primary, #3b82f6);
    border-color: var(--color-primary, #3b82f6);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary, #3b82f6) 20%, transparent);
}

.tail-switch-input:checked + .tail-switch-slider::before {
    /* Move thumb from left (2px) to right (2px from right edge) */
    /* Thumb width is 50% - 4px, so remaining space is 50% - 4px */
    /* translateX(100%) moves by thumb's width (50% - 4px), plus 4px for padding gap */
    transform: translateX(calc(100% + 4px));
    background-color: var(--color-background, #ffffff);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Focus State */
.tail-switch-input:focus-visible + .tail-switch-slider {
    outline: 2px solid var(--color-primary, #3b82f6);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--color-primary, #3b82f6) 15%, transparent);
}

.tail-switch-input:checked:focus-visible + .tail-switch-slider {
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary, #3b82f6) 20%, transparent),
                0 0 0 6px color-mix(in srgb, var(--color-primary, #3b82f6) 15%, transparent);
}

/* Hover State (only when not disabled) */
.tail-switch-label:not(.disabled):hover .tail-switch-slider {
    border-color: var(--color-primary, #3b82f6);
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05), 0 0 0 2px color-mix(in srgb, var(--color-primary, #3b82f6) 10%, transparent);
}

.tail-switch-label:not(.disabled):hover .tail-switch-input:checked + .tail-switch-slider {
    background-color: color-mix(in srgb, var(--color-primary, #3b82f6) 90%, black);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--color-primary, #3b82f6) 25%, transparent);
}

/* Active/Pressed State */
.tail-switch-input:active + .tail-switch-slider::before {
    width: calc(55% - 4px);
}

.tail-switch-input:checked:active + .tail-switch-slider::before {
    width: calc(55% - 4px);
}

/* Disabled State */
.tail-switch-input:disabled + .tail-switch-slider {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: var(--color-surface-2, #f3f4f6);
    border-color: var(--color-border, #e5e7eb);
}

.tail-switch-input:disabled:checked + .tail-switch-slider {
    background-color: color-mix(in srgb, var(--color-primary, #3b82f6) 50%, var(--color-surface-2, #f3f4f6));
    border-color: color-mix(in srgb, var(--color-primary, #3b82f6) 50%, var(--color-border, #e5e7eb));
}

/* Size Variants */
.tail-switch-slider.size-xs {
    width: 2rem; /* 32px */
    height: 1rem; /* 16px */
}

.tail-switch-slider.size-xs::before {
    width: calc(0.75rem - 4px);
    height: calc(0.75rem - 4px);
}

.tail-switch-slider.size-sm {
    width: 2.5rem; /* 40px */
    height: 1.25rem; /* 20px */
}

.tail-switch-slider.size-sm::before {
    width: calc(1rem - 4px);
    height: calc(1rem - 4px);
}

.tail-switch-slider.size-md {
    width: 3rem; /* 48px */
    height: 1.5rem; /* 24px */
}

.tail-switch-slider.size-md::before {
    width: calc(1.25rem - 4px);
    height: calc(1.25rem - 4px);
}

.tail-switch-slider.size-lg {
    width: 3.5rem; /* 56px */
    height: 1.75rem; /* 28px */
}

.tail-switch-slider.size-lg::before {
    width: calc(1.5rem - 4px);
    height: calc(1.5rem - 4px);
}

.tail-switch-slider.size-xl {
    width: 4rem; /* 64px */
    height: 2rem; /* 32px */
}

.tail-switch-slider.size-xl::before {
    width: calc(1.75rem - 4px);
    height: calc(1.75rem - 4px);
}

/* Text Label */
.tail-switch-text {
    margin-left: 0.5rem;
    color: var(--color-text-primary, #111827);
    font-weight: 400;
    line-height: 1.5;
}

.tail-switch-text.size-xs {
    font-size: 0.75rem;
    margin-left: 0.5rem;
}

.tail-switch-text.size-sm {
    font-size: 0.875rem;
    margin-left: 0.5rem;
}

.tail-switch-text.size-md {
    font-size: 1rem;
    margin-left: 0.5rem;
}

.tail-switch-text.size-lg {
    font-size: 1.125rem;
    margin-left: 0.625rem;
}

.tail-switch-text.size-xl {
    font-size: 1.25rem;
    margin-left: 0.75rem;
}

/* Error Message */
.tail-switch-error {
    margin-top: 0.25rem;
    font-size: 0.875rem;
    color: var(--color-danger, #ef4444);
    line-height: 1.5;
}

/* Dark Mode Adjustments */
html.dark .tail-switch-slider {
    background-color: var(--color-surface-3, #4b5563);
    border-color: var(--color-border, #374151);
}

html.dark .tail-switch-slider::before {
    background-color: var(--color-background, #1f2937);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4), 0 1px 2px rgba(0, 0, 0, 0.2);
}

html.dark .tail-switch-input:disabled + .tail-switch-slider {
    background-color: var(--color-surface-2, #374151);
    border-color: var(--color-border, #4b5563);
}

html.dark .tail-switch-text {
    color: var(--color-text-primary, #f9fafb);
}

/* Smooth Transitions */
.tail-switch-slider,
.tail-switch-slider::before {
    transition-property: background-color, border-color, transform, box-shadow, width;
    transition-duration: 200ms;
    transition-timing-function: ease-in-out;
}

