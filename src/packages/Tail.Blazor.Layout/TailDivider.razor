@inherits Tail.Blazor.Core.TailComponentBase
@namespace Tail.Blazor.Layout

<div class="@GetDividerClasses()" role="separator" @attributes="AdditionalAttributes">
    @if (!string.IsNullOrEmpty(Text))
    {
        <span class="px-3 bg-white dark:bg-gray-800 text-sm text-gray-500 dark:text-gray-400">@Text</span>
    }
</div>

@code {
    [Parameter] public string? Text { get; set; }
    [Parameter] public DividerOrientation Orientation { get; set; } = DividerOrientation.Horizontal;
    [Parameter] public bool Dashed { get; set; } = false;

    private string GetDividerClasses()
    {
        var classes = new List<string> { "flex items-center" };
        
        if (Orientation == DividerOrientation.Horizontal)
        {
            classes.Add("w-full");
            classes.Add(Dashed ? "border-t border-dashed border-gray-300 dark:border-gray-600" : "border-t border-gray-300 dark:border-gray-600");
        }
        else
        {
            classes.Add("h-full flex-col");
            classes.Add(Dashed ? "border-l border-dashed border-gray-300 dark:border-gray-600" : "border-l border-gray-300 dark:border-gray-600");
        }
        
        if (!string.IsNullOrEmpty(CssClass))
        {
            classes.Add(CssClass);
        }
        
        return string.Join(" ", classes);
    }
}

public enum DividerOrientation
{
    Horizontal,
    Vertical
}

